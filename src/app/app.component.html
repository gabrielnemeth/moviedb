<section class="section">
  <div class="container">
    <form
      [formGroup]="searchForm"
      (ngSubmit)="searchForMovies()"
      class="field has-addons"
    >
      <div class="control is-expanded">
        <input
          formControlName="query"
          #searchInput
          class="input"
          type="text"
          placeholder="Find a movie"
        />
      </div>
      <div class="control">
        <button
          type="submit"
          class="button is-info"
          [disabled]="!searchForm.valid"
        >
          Search
        </button>
      </div>
    </form>
  </div>
</section>

<ng-container *ngIf="movies$ | async as movies">
  <app-movie-list *ngIf="movies.length > 0" [movies]="movies"></app-movie-list>
</ng-container>
